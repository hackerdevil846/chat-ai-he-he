module.exports.config = {
    name: "coin",
    aliases: ["balance", "money"],
    version: "1.2.0",
    author: "ğ´ğ‘ ğ‘–ğ‘“ ğ‘€ğ‘â„ğ‘šğ‘¢ğ‘‘",
    countDown: 3,
    role: 0,
    category: "economy",
    shortDescription: {
        en: "ğŸ’° ğ¶â„ğ‘’ğ‘ğ‘˜ ğ‘ğ‘œğ‘–ğ‘› ğ‘ğ‘ğ‘™ğ‘ğ‘›ğ‘ğ‘’ğ‘  ğ‘–ğ‘› ğ‘¡â„ğ‘’ ğ‘’ğ‘ğ‘œğ‘›ğ‘œğ‘šğ‘¦ ğ‘ ğ‘¦ğ‘ ğ‘¡ğ‘’ğ‘š"
    },
    longDescription: {
        en: "ğŸ’° ğ¶â„ğ‘’ğ‘ğ‘˜ ğ‘ğ‘œğ‘–ğ‘› ğ‘ğ‘ğ‘™ğ‘ğ‘›ğ‘ğ‘’ğ‘  ğ‘–ğ‘› ğ‘¡â„ğ‘’ ğ‘’ğ‘ğ‘œğ‘›ğ‘œğ‘šğ‘¦ ğ‘ ğ‘¦ğ‘ ğ‘¡ğ‘’ğ‘š"
    },
    guide: {
        en: "{p}coin [@ğ‘šğ‘’ğ‘›ğ‘¡ğ‘–ğ‘œğ‘› | â„ğ‘’ğ‘™ğ‘]"
    },
    dependencies: {
        "axios": ""
    },
    envConfig: {}
};

module.exports.languages = {
    "en": {
        "own_balance": "ğŸ’° ğ—¬ğ—¢ğ—¨ğ—¥ ğ—•ğ—”ğ—Ÿğ—”ğ—¡ğ—–ğ—˜\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸª™ | ğ‘Œğ‘œğ‘¢ ğ‘ğ‘¢ğ‘Ÿğ‘Ÿğ‘’ğ‘›ğ‘¡ğ‘™ğ‘¦ â„ğ‘ğ‘£ğ‘’: %1 ğ‘ğ‘œğ‘–ğ‘›ğ‘ \n\nğŸ’¹ | ğ¾ğ‘’ğ‘’ğ‘ ğ‘’ğ‘ğ‘Ÿğ‘›ğ‘–ğ‘›ğ‘” ğ‘šğ‘œğ‘Ÿğ‘’ ğ‘ğ‘œğ‘–ğ‘›ğ‘  ğ‘¡â„ğ‘Ÿğ‘œğ‘¢ğ‘”â„ ğ‘ğ‘ğ‘¡ğ‘–ğ‘£ğ‘–ğ‘¡ğ‘–ğ‘’ğ‘ !",
        "other_balance": "ğŸ’° ğ—¨ğ—¦ğ—˜ğ—¥ ğ—•ğ—”ğ—Ÿğ—”ğ—¡ğ—–ğ—˜\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ‘¤ | ğ‘ˆğ‘ ğ‘’ğ‘Ÿ: %1\nğŸª™ | ğµğ‘ğ‘™ğ‘ğ‘›ğ‘ğ‘’: %2 ğ‘ğ‘œğ‘–ğ‘›ğ‘ ",
        "no_user": "âš ï¸ ğ—¨ğ—¦ğ—˜ğ—¥ ğ—¡ğ—¢ğ—§ ğ—™ğ—¢ğ—¨ğ—¡ğ——\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğ‘ƒğ‘™ğ‘’ğ‘ğ‘ ğ‘’ ğ‘šğ‘’ğ‘›ğ‘¡ğ‘–ğ‘œğ‘› ğ‘ ğ‘£ğ‘ğ‘™ğ‘–ğ‘‘ ğ‘¢ğ‘ ğ‘’ğ‘Ÿ ğ‘¡ğ‘œ ğ‘â„ğ‘’ğ‘ğ‘˜ ğ‘¡â„ğ‘’ğ‘–ğ‘Ÿ ğ‘ğ‘ğ‘™ğ‘ğ‘›ğ‘ğ‘’",
        "error": "âŒ ğ—•ğ—”ğ—Ÿğ—”ğ—¡ğ—–ğ—˜ ğ—˜ğ—¥ğ—¥ğ—¢ğ—¿\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğ¹ğ‘ğ‘–ğ‘™ğ‘’ğ‘‘ ğ‘¡ğ‘œ ğ‘“ğ‘’ğ‘¡ğ‘â„ ğ‘ğ‘ğ‘™ğ‘ğ‘›ğ‘ğ‘’. ğ‘ƒğ‘™ğ‘’ğ‘ğ‘ ğ‘’ ğ‘¡ğ‘Ÿğ‘¦ ğ‘ğ‘”ğ‘ğ‘–ğ‘› ğ‘™ğ‘ğ‘¡ğ‘’ğ‘Ÿ.",
        "help": "ğŸ’ ğ—–ğ—¢ğ—œğ—¡ ğ—–ğ—¢ğ— ğ— ğ—”ğ—¡ğ—— ğ—›ğ—˜ğ—Ÿğ—£\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n" +
                "ğŸ“Œ ğ—–ğ—¼ğ—ºğ—ºğ—®ğ—»ğ—± ğ—¨ğ˜€ğ—®ğ—´ğ—²:\n" +
                "â€¢ {p}ğ‘ğ‘œğ‘–ğ‘› - ğ¶â„ğ‘’ğ‘ğ‘˜ ğ‘¦ğ‘œğ‘¢ğ‘Ÿ ğ‘œğ‘¤ğ‘› ğ‘ğ‘ğ‘™ğ‘ğ‘›ğ‘ğ‘’\n" +
                "â€¢ {p}ğ‘ğ‘œğ‘–ğ‘› @ğ‘šğ‘’ğ‘›ğ‘¡ğ‘–ğ‘œğ‘› - ğ¶â„ğ‘’ğ‘ğ‘˜ ğ‘ ğ‘œğ‘šğ‘’ğ‘œğ‘›ğ‘’ ğ‘’ğ‘™ğ‘ ğ‘’'ğ‘  ğ‘ğ‘ğ‘™ğ‘ğ‘›ğ‘ğ‘’\n" +
                "â€¢ {p}ğ‘ğ‘œğ‘–ğ‘› â„ğ‘’ğ‘™ğ‘ - ğ‘†â„ğ‘œğ‘¤ ğ‘¡â„ğ‘–ğ‘  â„ğ‘’ğ‘™ğ‘ ğ‘šğ‘’ğ‘ ğ‘ ğ‘ğ‘”ğ‘’\n\n" +
                "ğŸ’¡ ğ—”ğ—¯ğ—¼ğ˜‚ğ˜ ğ—–ğ—¼ğ—¶ğ—»ğ˜€:\n" +
                "â€¢ ğ¶ğ‘œğ‘–ğ‘›ğ‘  ğ‘ğ‘Ÿğ‘’ ğ‘’ğ‘ğ‘Ÿğ‘›ğ‘’ğ‘‘ ğ‘¡â„ğ‘Ÿğ‘œğ‘¢ğ‘”â„ ğ‘ğ‘ğ‘¡ğ‘–ğ‘£ğ‘–ğ‘¡ğ‘–ğ‘’ğ‘ , ğ‘”ğ‘ğ‘šğ‘’ğ‘ , ğ‘ğ‘›ğ‘‘ ğ‘Ÿğ‘’ğ‘¤ğ‘ğ‘Ÿğ‘‘ğ‘ \n" +
                "â€¢ ğ‘ˆğ‘ ğ‘’ ğ‘ğ‘œğ‘–ğ‘›ğ‘  ğ‘¡ğ‘œ ğ‘ğ‘¢ğ‘Ÿğ‘â„ğ‘ğ‘ ğ‘’ ğ‘–ğ‘¡ğ‘’ğ‘šğ‘ , ğ‘ğ‘™ğ‘ğ‘¦ ğ‘”ğ‘ğ‘šğ‘’ğ‘ , ğ‘œğ‘Ÿ ğ‘ğ‘ğ‘ğ‘’ğ‘ ğ‘  ğ‘ğ‘Ÿğ‘’ğ‘šğ‘–ğ‘¢ğ‘š ğ‘“ğ‘’ğ‘ğ‘¡ğ‘¢ğ‘Ÿğ‘’ğ‘ \n" +
                "â€¢ ğ¶â„ğ‘’ğ‘ğ‘˜ ğ‘¦ğ‘œğ‘¢ğ‘Ÿ ğ‘ğ‘ğ‘™ğ‘ğ‘›ğ‘ğ‘’ ğ‘Ÿğ‘’ğ‘”ğ‘¢ğ‘™ğ‘ğ‘Ÿğ‘™ğ‘¦ ğ‘¡ğ‘œ ğ‘¡ğ‘Ÿğ‘ğ‘ğ‘˜ ğ‘¦ğ‘œğ‘¢ğ‘Ÿ ğ‘’ğ‘ğ‘Ÿğ‘›ğ‘–ğ‘›ğ‘”ğ‘ !\n\n" +
                "âœ¨ ğ—§ğ—¶ğ—½: ğ‘†ğ‘¡ğ‘ğ‘¦ ğ‘ğ‘ğ‘¡ğ‘–ğ‘£ğ‘’ ğ‘¡ğ‘œ ğ‘’ğ‘ğ‘Ÿğ‘› ğ‘šğ‘œğ‘Ÿğ‘’ ğ‘ğ‘œğ‘–ğ‘›ğ‘  ğ‘‘ğ‘ğ‘–ğ‘™ğ‘¦!"
    }
};

module.exports.onLoad = function() {
    console.log("âœ… ğ¶ğ‘œğ‘–ğ‘› ğ‘ğ‘œğ‘šğ‘šğ‘ğ‘›ğ‘‘ ğ‘™ğ‘œğ‘ğ‘‘ğ‘’ğ‘‘ ğ‘ ğ‘¢ğ‘ğ‘ğ‘’ğ‘ ğ‘ ğ‘“ğ‘¢ğ‘™ğ‘™ğ‘¦!");
};

module.exports.onStart = async function({ message, event, args, Users, Currencies, getText }) {
    try {
        const { threadID, messageID, senderID, mentions } = event;

        if (args[0]?.toLowerCase() === "help") {
            return message.reply(getText("help"));
        }

        if (args.length === 0 || Object.keys(mentions).length === 0) {
            const userData = await Currencies.getData(senderID);
            const balance = userData.money || 0;
            return message.reply(getText("own_balance", balance.toLocaleString()));
        }

        const targetID = Object.keys(mentions)[0];
        const targetName = mentions[targetID].replace(/@/g, "");
        const targetData = await Currencies.getData(targetID);

        if (!targetData) {
            return message.reply(getText("no_user"));
        }

        const targetBalance = targetData.money || 0;
        return message.reply({
            body: getText("other_balance", targetName, targetBalance.toLocaleString()),
            mentions: [{
                tag: targetName,
                id: targetID
            }]
        });

    } catch (error) {
        console.error("ğ¶ğ‘œğ‘–ğ‘› ğ‘ğ‘œğ‘šğ‘šğ‘ğ‘›ğ‘‘ ğ‘’ğ‘Ÿğ‘Ÿğ‘œğ‘Ÿ:", error);
        return message.reply(getText("error"));
    }
};
